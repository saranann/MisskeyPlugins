{
    "type": "plugin",
    "data": "/// @ 0.16.0\n### {\n    name: \"user channel note hide plugin\",\n    id: \"9808f97b-f61d-4f81-857e-dae5d32ba8b6\",\n    version: \"1.0.0\",\n    author: \"@yamada_20020924@voskey.icalo.net\",\n    description: \"指定したユーザーの指定したチャンネルでのノートを非表示にするプラグイン。\",\n    permissions: [],\n    config: {\n        pairsOfUsersAndChannelLists: {\n            type: \"string\",\n            label: \"条件のJSON\",\n            description: \"JSON形式で非表示にする条件を記述します。\",\n            default: \"{}\"\n        }\n    }\n}\n\nlet pairsOfUsersAndChannelLists = Json:parse(Plugin:config.pairsOfUsersAndChannelLists)\n\n@callback(note){if (Obj:has(pairsOfUsersAndChannelLists, note.userId)&&pairsOfUsersAndChannelLists[note.userId].incl(note.channelId)) null else note}\n\nif (Core:type(pairsOfUsersAndChannelLists)==\"obj\"&&Obj:vals(pairsOfUsersAndChannelLists).reduce(@(a,val){a&&(if (Core:type(val)==\"arr\") val.reduce(@(a,val){a&&(Core:type(val)==\"str\"||val==null)},true) else false)},true)) Plugin:register_note_view_interruptor(callback) else Mk:dialog(\"CONFIG PARSE ERROR\", \"設定されたJSON形式が不正です。\", \"error\")"
}
