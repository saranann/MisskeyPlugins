{
    "type": "plugin",
    "data": "/// @ 0.16.0\n### {\n    name: \"特定のチャンネルのノートを隠すプラグイン\",\n    id: \"54102f51-8589-42a7-ab86-f36f65e4fc39\",\n    version: \"1.0.0\",\n    author: \"@yamada_20020924@voskey.icalo.net\",\n    description: \"条件に従ってチャンネル投稿ノートを隠します\",\n    permissions: [],\n    config: {\n        channelIdList: {\n            type: \"string\",\n            label: \"隠すチャンネルIDのリスト\",\n            description: \"JSON形式でチャンネルIDを記述すると、それに従ってチャンネルに関連するノートを隠します\",\n            default: \"[]\"\n        }\n    }\n}\n\n@callback(note){\n    //多分ないけど確認\n    if (note==null) return null\n    if (channelIdList.incl(note.channelId)) return null\n    //renoteと引用\n    if (note.renote==null) return note\n    if (callback(note.renote)==null) return null\n    else return note\n}\n\nlet channelIdList = Json:parse(Plugin:config.channelIdList)\n\n//JSONチェック\nvar isOk = true\nif (Core:type(channelIdList)==\"error\") {\n    isOk = false\n    Mk:dialog(\"JSON PARSE ERROR\", \"不正な形式のカスタマイズリスト\", \"error\")\n}\nif (Core:type(channelIdList)!=\"arr\") {\n    isOk = false\n    Mk:dialog(\"JSON IS NOT ARRAY\", \"不正な形式のカスタマイズリスト\", \"error\")\n}\nif (isOk) {\n    Plugin:register_note_view_interruptor(\n        callback\n    )\n}"
}
